'use strict';

/**
 * Exports LevelSelect
 *
 * @module level-select-class
 */

/**
 * Advance level logic
 * @constructor
 * @param {object} numberSelectArea - instance of [NumberSelect]{@link module:number-select-class~NumberSelect} for the Area
 * @param {object} numberSelectLevel - instance of [NumberSelect]{@link module:number-select-class~NumberSelect} for the Level
 * @param {object} config - [config]{@link module:config} object
 */
var LevelSelect = function(numberSelectArea, numberSelectLevel, config){
  this.numberSelectArea = numberSelectArea;
  this.numberSelectLevel = numberSelectLevel;
  this.maxArea = this.numberSelectArea.getMax();
  this.maxLevel = this.numberSelectLevel.getMax();

  config.nextLevelElement.addEventListener('click', this.nextLevel.bind(this));
};

/**
 * Advance to next level modifying area if necessary
 */
LevelSelect.prototype.nextLevel = function(){
  var area = this.numberSelectArea.getNumber();
  var level = this.numberSelectLevel.getNumber();
  if(level === this.maxLevel && area !== this.maxArea){
    this.numberSelectLevel.setNumber(1);
    this.numberSelectArea.addOne();
  }
  else{
    this.numberSelectLevel.addOne();
  }
};

module.exports = LevelSelect;
