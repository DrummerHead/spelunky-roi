'use strict';

var Item = function(specs, announcer){
  this.name = specs.name;
  this.initialPrice = parseInt(specs.initialPrice, 10);
  this.calculatedPrice = this.initialPrice;
  this.area = 1;
  this.level = 1;

  this.announcer = announcer;

  this.imgElement = document.createElement('img');
  this.imgElement.setAttribute('src', this.imageUrl);
  this.imgElement.setAttribute('alt', this.name);

  this.labelElement = document.createElement('span');

  this.liElement = document.createElement('li');
  this.liElement.classList.add('item');
  this.liElement.appendChild(this.imgElement);
  this.liElement.appendChild(this.labelElement);
};

Item.prototype.render = function(){
  this.listHolder.appendChild(this.liElement);
};

Item.prototype.select = function(){
  this.liElement.classList.add('item-selected');
};

Item.prototype.publish = function(){
  return {
    category: this.category,
    id: this.name,
    data: this
  };
};

Item.prototype.getCalculatedPrice = function(){
  return this.calculatedPrice;
};

module.exports = Item;
